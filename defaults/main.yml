---

# Defaults for ansible-role-slurm
#
slurm_packages:
 - slurm-plugins
 - slurm
 - slurm-perlapi
 - slurm-slurmdb-direct
 - slurm-sql
 - slurm-lua
 - slurm-devel
 - slurm-pam_slurm
 - slurm-sjstat
 - slurm-slurmdbd
 - slurm-torque
 - slurm-munge
 - slurm-sjobexit
# - slurm-spank-x11
#

slurm_node_packages:
 - slurm
 - slurm-devel
 - slurm-lua
 - slurm-munge
 - slurm-pam_slurm
 - slurm-perlapi
 - slurm-plugins
 - slurm-sjobexit
 - slurm-sjstat
 - slurm-sql
 - slurm-torque
# - slurm-spank-x11-0.2.5-1.x86_64
# - slurm-spank-x11-debuginfo-0.2.5-1.x86_64

slurm_dep_packages:
 - "xterm"
 - "sssd"
 - "gcc" 
 - "make"
 - "gcc-c++"
 - "wget"
 - "vim"
 - "man"
 - "rpm-build"
 - "pam"
 - "pam-devel"
 - "hwloc"
 - "hwloc-devel"
 - "munge"
 - "munge-devel"
 - "munge-libs"
 - "readline-devel"
 - "openssl-devel"
 - "perl-ExtUtils-MakeMaker"
 - "lua"
 - "lua-devel"
 - "lua-posix"
 - "lua-filesystem"

#####
fgci_install: True
siteName: "io"
nodeBase: "{{ siteName }}"
nodeGpuBase: "gpu"
#set slurm_mysql_passwords to something. If this variable is not set the role will fail.
#slurm_mysql_password: "CHANGEME"
# slurm_version is only used when grabbing the source 
slurm_version: "15.08.3"
# slurm_type (service, compute or submit) should be set with group_vars
slurm_type: ""
slurm_build: False
slurm_log_dir: "/var/log/slurm"
slurm_tmp_dir: "/var/tmp/slurmd"
slurmd_tmp_dir: "{{ slurm_tmp_dir }}"
slurm_state_dir: "/tmp/slurmstate"
##
slurm_clustername: "{{ siteName | default('test_cluster')}}"
slurm_compute_nodes: "{{ nodeBase }}[1-4]"
slurm_with_gpu: True
slurm_gpu_nodes: "{{ nodeGpuBase }}"
##
slurm_first_job_id: "2230000"
slurm_max_job_count: "30000"
slurm_scheduler_parameters: "bf_max_job_test=300,bf_max_job_part=200,bf_max_job_user=30,defer,bf_continue,bf_window=7200,bf_resolution=1800"
slurm_select_type_parameters: "CR_Core_Memory"
slurm_priority_type: "priority/multifactor"
slurm_priority_decayhalflife: "14-0"
slurm_priority_favorsmall: "NO"
slurm_priority_weight_fairshare: "10000000"
slurm_priority_weight_age: "10000"
slurm_priority_weight_partition: "0"
slurm_priority_weight_jobsize: "10000"
slurm_priority_weight_qos: "10000"
slurm_priority_maxage: "7"
slurm_accounting_storage_enforce: "limits,qos"
slurm_healthcheck_program: "/usr/sbin/nhc"
slurm_healthcheck_interval: "300"
